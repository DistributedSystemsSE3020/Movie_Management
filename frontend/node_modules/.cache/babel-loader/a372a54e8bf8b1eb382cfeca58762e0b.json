{"ast":null,"code":"var _jsxFileName = \"D:\\\\University\\\\SLIIT\\\\Lectures\\\\3rdYear\\\\1stSemester\\\\DS\\\\GroupProject\\\\Test\\\\Test\\\\frontend\\\\src\\\\components\\\\Header\\\\Header.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory, useLocation, Link } from \"react-router-dom\";\nimport { IconButton } from \"@material-ui/core\";\nimport DehazeIcon from \"@material-ui/icons/Dehaze\";\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\nimport LocalHospitalIcon from \"@material-ui/icons/LocalHospital\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport MonetizationOnIcon from \"@material-ui/icons/MonetizationOn\";\nimport FeedbackIcon from \"@material-ui/icons/Feedback\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport onClickOutside from \"react-onclickoutside\";\nimport { blue, red } from \"@material-ui/core/colors\";\nimport { Button } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport \"./Header.css\";\nimport \"./Sidebar.css\";\nimport AddMovie from \"../MovieManagement/AddMovie/AddMovie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Header() {\n  _s();\n\n  const [isSignedIn, setIsSignedIn] = useState(false);\n  const [cartCount, setCartCount] = useState();\n  const [user, setUser] = useState(\"\");\n  const [URL, setURL] = useState(\"/customer\");\n  const history = useHistory();\n  const location = useLocation();\n  const [sidebar, setSidebar] = useState(false);\n  const SidebarItem = [{\n    title: \"Home\",\n    path: \"/\",\n    icon: /*#__PURE__*/_jsxDEV(HomeIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this),\n    cName: \"nav-text\"\n  }, {\n    title: \"Profile\",\n    path: `${URL}/profile`,\n    icon: /*#__PURE__*/_jsxDEV(PersonIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this),\n    cName: \"nav-text\"\n  }, {\n    title: \"Pharmacy\",\n    path: \"/pharmacy/items\",\n    icon: /*#__PURE__*/_jsxDEV(LocalHospitalIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this),\n    cName: \"nav-text\"\n  }, {\n    title: \"Appointments\",\n    path: `/Appointment/${user._id}`,\n    icon: /*#__PURE__*/_jsxDEV(EventAvailableIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this),\n    cName: \"nav-text\"\n  }, {\n    title: \"Prescriptions\",\n    path: `/prescription/history/${user._id}`,\n    icon: /*#__PURE__*/_jsxDEV(AssignmentIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this),\n    cName: \"nav-text\"\n  }, {\n    title: \"Cart\",\n    path: `/cart/${user._id}/shopping`,\n    icon: /*#__PURE__*/_jsxDEV(ShoppingCartIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this),\n    cName: \"nav-text\"\n  }, {\n    title: \"Payment\",\n    path: `/patient/payment/${user._id}`,\n    icon: /*#__PURE__*/_jsxDEV(MonetizationOnIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this),\n    cName: \"nav-text\"\n  }, {\n    title: \"Feedback\",\n    path: `/movie/movies`,\n    icon: /*#__PURE__*/_jsxDEV(FeedbackIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this),\n    cName: \"nav-text\"\n  }];\n  useEffect(() => {\n    //check whether user has signed in\n    if (localStorage.getItem(\"customerAuthToken\") || localStorage.getItem(\"doctorAuthToken\") || localStorage.getItem(\"adminAuthToken\")) {\n      setIsSignedIn(true); //get user data\n\n      if (localStorage.getItem(\"user\")) {\n        setUser(JSON.parse(localStorage.getItem(\"user\")));\n      }\n\n      async function getCartCount() {\n        await axios.get(`http://localhost:8070/cart/${user._id}&shopping`).then(res => {\n          let result = res.data.result;\n          setCartCount(result.length);\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n\n      getCartCount();\n\n      if (localStorage.getItem(\"customerAuthToken\")) {\n        setURL(`/customer`);\n      }\n\n      if (localStorage.getItem(\"doctorAuthToken\")) {\n        setURL(`/doctor`);\n      }\n    } else {\n      setIsSignedIn(false);\n    }\n  }, [user._id, location]);\n\n  function profile() {\n    history.push(`${URL}/profile/`);\n  }\n\n  function cart() {\n    history.push(`/cart/${user._id}/shopping`);\n  }\n\n  function signin() {\n    history.push(\"/customer/signin\");\n  }\n\n  function signup() {\n    history.push(\"/customer/signup\");\n  } //logout\n\n\n  async function logout() {\n    localStorage.clear();\n    history.push(\"/\");\n  }\n\n  const showSidebar = () => setSidebar(!sidebar);\n\n  Header.handleClickOutside = () => setSidebar(false);\n\n  function home() {\n    history.push(\"/\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"black_line\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"navbar navbar-inverse navbar-expand-lg navbar-light fixed-top header-bg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"width_header container-fluid \",\n          children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n            children: sidebar ? /*#__PURE__*/_jsxDEV(IconButton, {\n              className: \"icon_sidebar\",\n              children: /*#__PURE__*/_jsxDEV(DehazeIcon, {\n                className: \"icon_sidebar\",\n                fontSize: \"large\",\n                style: {\n                  color: red[0]\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(IconButton, {\n              className: \"icon_sidebar\",\n              onClick: showSidebar,\n              children: /*#__PURE__*/_jsxDEV(DehazeIcon, {\n                className: \"icon_sidebar\",\n                fontSize: \"large\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-title\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              style: {\n                fontSize: 35,\n                fontWeight: 700\n              },\n              onClick: home,\n              children: [\"\\xA0\\xA0\\xA0\\xA0\\xA0 Popcorn\\xA0 Scope\\xA0 Cinemas\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"home_button\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/\",\n                children: \"Home\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"home_button\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/movie/movies\",\n                children: \"Movies\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"home_button\",\n              onClick: signin,\n              children: \"Bookings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"home_button\",\n              onClick: signup,\n              children: \"Online\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"mx-3\",\n            children: isSignedIn ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                onClick: cart,\n                children: /*#__PURE__*/_jsxDEV(Badge, {\n                  badgeContent: cartCount,\n                  color: \"error\",\n                  children: /*#__PURE__*/_jsxDEV(ShoppingCartIcon, {\n                    fontSize: \"large\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                onClick: profile,\n                children: /*#__PURE__*/_jsxDEV(Avatar, {\n                  alt: \"user\",\n                  src: `${user.imgUrl}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-primary mx-2  signing\",\n                onClick: signin,\n                children: \"Sign In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-primary signing\",\n                onClick: signup,\n                children: \"Sign Up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: sidebar ? \"nav-menu active\" : \"nav-menu\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"nav-menu-items\",\n          onClick: showSidebar,\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"mb-4 mt-3\",\n            align: \"center\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/images/Logo.png\",\n              width: \"150px\",\n              alt: \"logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), SidebarItem.map((item, index) => {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: item.cName,\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: item.path,\n                children: [item.icon, /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"nav-span\",\n                  children: item.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this);\n          }), isSignedIn && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-bottom\",\n            align: \"center\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"secondary\",\n              disableElevation: true,\n              size: \"small\",\n              onClick: logout,\n              endIcon: /*#__PURE__*/_jsxDEV(ExitToAppIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 28\n              }, this),\n              children: \"Log Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Header, \"6+U2/BJsP85N29L8KR33soxjxio=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = Header;\nconst clickOutsideConfig = {\n  handleClickOutside: () => Header.handleClickOutside\n};\nexport default _c2 = onClickOutside(Header, clickOutsideConfig);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Header\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["D:/University/SLIIT/Lectures/3rdYear/1stSemester/DS/GroupProject/Test/Test/frontend/src/components/Header/Header.js"],"names":["React","useEffect","useState","useHistory","useLocation","Link","IconButton","DehazeIcon","ShoppingCartIcon","HomeIcon","PersonIcon","EventAvailableIcon","AssignmentIcon","LocalHospitalIcon","ExitToAppIcon","MonetizationOnIcon","FeedbackIcon","Badge","Avatar","onClickOutside","blue","red","Button","axios","AddMovie","Header","isSignedIn","setIsSignedIn","cartCount","setCartCount","user","setUser","URL","setURL","history","location","sidebar","setSidebar","SidebarItem","title","path","icon","cName","_id","localStorage","getItem","JSON","parse","getCartCount","get","then","res","result","data","length","catch","error","console","log","profile","push","cart","signin","signup","logout","clear","showSidebar","handleClickOutside","home","color","fontSize","fontWeight","imgUrl","map","item","index","clickOutsideConfig"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useHistory, useLocation, Link } from \"react-router-dom\";\nimport { IconButton } from \"@material-ui/core\";\nimport DehazeIcon from \"@material-ui/icons/Dehaze\";\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\nimport LocalHospitalIcon from \"@material-ui/icons/LocalHospital\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport MonetizationOnIcon from \"@material-ui/icons/MonetizationOn\";\nimport FeedbackIcon from \"@material-ui/icons/Feedback\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport onClickOutside from \"react-onclickoutside\";\nimport { blue, red } from \"@material-ui/core/colors\";\nimport { Button } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport \"./Header.css\";\nimport \"./Sidebar.css\";\nimport AddMovie from \"../MovieManagement/AddMovie/AddMovie\";\n\nfunction Header() {\n  const [isSignedIn, setIsSignedIn] = useState(false);\n  const [cartCount, setCartCount] = useState();\n  const [user, setUser] = useState(\"\");\n  const [URL, setURL] = useState(\"/customer\");\n  const history = useHistory();\n  const location = useLocation();\n  const [sidebar, setSidebar] = useState(false);\n\n  const SidebarItem = [\n    {\n      title: \"Home\",\n      path: \"/\",\n      icon: <HomeIcon />,\n      cName: \"nav-text\",\n    },\n    {\n      title: \"Profile\",\n      path: `${URL}/profile`,\n      icon: <PersonIcon />,\n      cName: \"nav-text\",\n    },\n    {\n      title: \"Pharmacy\",\n      path: \"/pharmacy/items\",\n      icon: <LocalHospitalIcon />,\n      cName: \"nav-text\",\n    },\n    {\n      title: \"Appointments\",\n      path: `/Appointment/${user._id}`,\n      icon: <EventAvailableIcon />,\n      cName: \"nav-text\",\n    },\n    {\n      title: \"Prescriptions\",\n      path: `/prescription/history/${user._id}`,\n      icon: <AssignmentIcon />,\n      cName: \"nav-text\",\n    },\n    {\n      title: \"Cart\",\n      path: `/cart/${user._id}/shopping`,\n      icon: <ShoppingCartIcon />,\n      cName: \"nav-text\",\n    },\n    {\n      title: \"Payment\",\n      path: `/patient/payment/${user._id}`,\n      icon: <MonetizationOnIcon />,\n      cName: \"nav-text\",\n    },\n    {\n      title: \"Feedback\",\n      path: `/movie/movies`,\n      icon: <FeedbackIcon />,\n      cName: \"nav-text\",\n    },\n  ];\n\n  useEffect(() => {\n    //check whether user has signed in\n    if (\n      localStorage.getItem(\"customerAuthToken\") ||\n      localStorage.getItem(\"doctorAuthToken\") ||\n      localStorage.getItem(\"adminAuthToken\")\n    ) {\n      setIsSignedIn(true);\n\n      //get user data\n      if (localStorage.getItem(\"user\")) {\n        setUser(JSON.parse(localStorage.getItem(\"user\")));\n      }\n\n      async function getCartCount() {\n        await axios\n          .get(`http://localhost:8070/cart/${user._id}&shopping`)\n          .then((res) => {\n            let result = res.data.result;\n            setCartCount(result.length);\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      }\n      getCartCount();\n\n      if (localStorage.getItem(\"customerAuthToken\")) {\n        setURL(`/customer`);\n      }\n\n      if (localStorage.getItem(\"doctorAuthToken\")) {\n        setURL(`/doctor`);\n      }\n    } else {\n      setIsSignedIn(false);\n    }\n  }, [user._id, location]);\n\n  function profile() {\n    history.push(`${URL}/profile/`);\n  }\n\n  function cart() {\n    history.push(`/cart/${user._id}/shopping`);\n  }\n\n  function signin() {\n    history.push(\"/customer/signin\");\n  }\n\n  function signup() {\n    history.push(\"/customer/signup\");\n  }\n\n  //logout\n  async function logout() {\n    localStorage.clear();\n    history.push(\"/\");\n  }\n\n  const showSidebar = () => setSidebar(!sidebar);\n\n  Header.handleClickOutside = () => setSidebar(false);\n\n  function home() {\n    history.push(\"/\");\n  }\n\n  return (\n    <header>\n      <div className=\"container-fluid\">\n        <div className=\"black_line\"></div>\n        <nav className=\"navbar navbar-inverse navbar-expand-lg navbar-light fixed-top header-bg\">\n          <div className=\"width_header container-fluid \">\n            <ul>\n              {sidebar ? (\n                <IconButton className=\"icon_sidebar\">\n                  <DehazeIcon\n                    className=\"icon_sidebar\"\n                    fontSize=\"large\"\n                    style={{ color: red[0] }}\n                  />\n                </IconButton>\n              ) : (\n                <IconButton className=\"icon_sidebar\" onClick={showSidebar}>\n                  <DehazeIcon className=\"icon_sidebar\" fontSize=\"large\" />\n                </IconButton>\n              )}\n            </ul>\n            <div className=\"header-title\">\n              <h1 style={{ fontSize: 35, fontWeight: 700 }} onClick={home}>\n                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Popcorn&nbsp; Scope&nbsp; Cinemas{\" \"}\n              </h1>\n\n              <button className=\"home_button\">\n                {\" \"}\n                <a href=\"/\">Home</a>\n              </button>\n              <button className=\"home_button\">\n                <a href=\"/movie/movies\">Movies</a>\n              </button>\n              <button className=\"home_button\" onClick={signin}>\n                Bookings\n              </button>\n              <button className=\"home_button\" onClick={signup}>\n                Online\n              </button>\n            </div>\n\n            <ul className=\"mx-3\">\n              {isSignedIn ? (\n                <div>\n                  <IconButton onClick={cart}>\n                    <Badge badgeContent={cartCount} color=\"error\">\n                      <ShoppingCartIcon fontSize=\"large\" />\n                    </Badge>\n                  </IconButton>\n                  <IconButton onClick={profile}>\n                    <Avatar alt=\"user\" src={`${user.imgUrl}`} />\n                  </IconButton>\n                </div>\n              ) : (\n                <div>\n                  <button\n                    className=\"btn btn-outline-primary mx-2  signing\"\n                    onClick={signin}\n                  >\n                    Sign In\n                  </button>\n                  <button\n                    className=\"btn btn-outline-primary signing\"\n                    onClick={signup}\n                  >\n                    Sign Up\n                  </button>\n                </div>\n              )}\n            </ul>\n          </div>\n        </nav>\n        <nav className={sidebar ? \"nav-menu active\" : \"nav-menu\"}>\n          <ul className=\"nav-menu-items\" onClick={showSidebar}>\n            <li className=\"mb-4 mt-3\" align=\"center\">\n              <img src=\"/images/Logo.png\" width=\"150px\" alt=\"logo\" />\n            </li>\n            {SidebarItem.map((item, index) => {\n              return (\n                <li key={index} className={item.cName}>\n                  <Link to={item.path}>\n                    {item.icon}\n                    <span className=\"nav-span\">{item.title}</span>\n                  </Link>\n                </li>\n              );\n            })}\n            {isSignedIn && (\n              <div className=\"sidebar-bottom\" align=\"center\">\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  disableElevation\n                  size=\"small\"\n                  onClick={logout}\n                  endIcon={<ExitToAppIcon />}\n                >\n                  Log Out\n                </Button>\n              </div>\n            )}\n          </ul>\n        </nav>\n      </div>\n    </header>\n  );\n}\n\nconst clickOutsideConfig = {\n  handleClickOutside: () => Header.handleClickOutside,\n};\n\nexport default onClickOutside(Header, clickOutsideConfig);\n"]},"metadata":{},"sourceType":"module"}