{"ast":null,"code":"var _jsxFileName = \"D:\\\\University\\\\SLIIT\\\\Lectures\\\\3rdYear\\\\1stSemester\\\\DS\\\\GroupProject\\\\Test\\\\Test\\\\frontend\\\\src\\\\components\\\\MovieManagement\\\\SingleMovie\\\\SingleMovie.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport '../DisplayMovies/DisplayMovies.css';\nimport './SingleMovie.css';\nimport axios from 'axios';\nimport { blue, red } from '@material-ui/core/colors';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MovieDetails(props) {\n  _s();\n\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [id, setID] = useState();\n  const [director, setDirector] = useState(\"\");\n  const [genre, setGenre] = useState(\"\");\n  const [cast, setCast] = useState(\"\");\n  const [languages, setLanguages] = useState([]);\n  const [description, setDescription] = useState(\"\");\n  const [theaters, setTheater] = useState([]);\n  const [availableDay, setAvailableDay] = useState([]);\n  const [availableTimeTo, setAvailableTimeTo] = useState(\"\");\n  const [availableTimeFrom, setAvailableTimeFrom] = useState(\"\");\n  const [imgUrl, setImgUrl] = useState(\"\");\n  const history = useHistory();\n  const [user, setUser] = useState(\"\");\n  const config = {\n    headers: {\n      \"content-Type\": \"application/json\"\n    }\n  };\n  useEffect(() => {\n    if (localStorage.getItem(\"user\")) {\n      setUser(JSON.parse(localStorage.getItem('user')));\n    }\n\n    if (localStorage.getItem(\"adminAuthToken\")) {\n      setIsAdmin(true);\n    }\n\n    async function getMovieDetails() {\n      axios.get(`http://localhost:8070/movie/movies/${props.match.params.id}`).then(res => {\n        setName(res.data.name);\n        setDirector(res.data.director);\n        setGenre(res.data.genre);\n        setCast(res.data.cast);\n        setLanguages(res.data.languages);\n        setDescription(res.data.description);\n        setTheater(res.data.theaters);\n        setAvailableDay(res.data.availableDay);\n        setAvailableTimeTo(res.data.availableTimeTo);\n        setAvailableTimeFrom(res.data.availableTimeFrom);\n        setImgUrl(res.data.imgUrl);\n        setID(res.data._id);\n      }).catch(err => {\n        alert(\"Failed to Fetch Movie\");\n      });\n    }\n\n    getMovieDetails();\n  }, [props]);\n\n  async function deleteMovie(id) {\n    await axios.delete(`http://localhost:8070/movie/movies/delete/${id}`, config).then(() => {\n      alert(\"Movie deleted successfully\");\n      history.push('/movie/movies');\n    }).catch(error => {\n      alert(`Failed to delete the movie\\n${error.message}`);\n    });\n  }\n\n  function updateMovie(id) {\n    history.push(`/movie/movies/update/${id}`);\n  }\n\n  function Book() {\n    history.push(`/appoinment/addApoinment`);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main_div1\",\n    align: \"center\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: `${imgUrl}`,\n      className: \"one_movie_img1\",\n      alt: \"profile pic\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 16\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"boxUpdate px-5 main_div2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: `${imgUrl}`,\n              className: \"one_movie_img2\",\n              alt: \"profile pic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"profilepic\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  style: {\n                    display: 'none'\n                  },\n                  id: \"profilepic\",\n                  name: \"profilepic\",\n                  type: \"file\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"single_movie_topic1\",\n              children: [\" \", name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"single_movie_topic2\",\n              children: genre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"positon_left\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0\",\n                children: [\"Director : \", director]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0\",\n                children: [\"Cast & Crew : \", cast]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 1\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0\",\n                children: [\"Theaters : \", theaters]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 1\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0\",\n                children: [\"Languages :  \", languages]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 65\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 70\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"positon_right\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              children: \" Available Days and time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: [\" \", availableDay.map(Day => /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\" \", Day, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 66\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: [\" \", availableTimeTo, \" - \", availableTimeFrom]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"singleItemBtn\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: isAdmin === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"mx-2 productBtn button2\",\n              style: {\n                backgroundColor: blue[400]\n              },\n              onClick: () => updateMovie(id),\n              children: [\"Update \", /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 48\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"mx-2 productBtn button2\",\n              style: {\n                backgroundColor: red[500]\n              },\n              onClick: () => deleteMovie(id),\n              children: [\"Delete \", /*#__PURE__*/_jsxDEV(DeleteForeverIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 48\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 37\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"mx-2 productBtn button2\",\n              style: {\n                backgroundColor: red[500]\n              },\n              onClick: () => Book(),\n              children: \"Make a Booking\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MovieDetails, \"JLHvT0vUmhmAOciN2o2gafRHjlM=\", false, function () {\n  return [useHistory];\n});\n\n_c = MovieDetails;\nexport default MovieDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"MovieDetails\");","map":{"version":3,"sources":["D:/University/SLIIT/Lectures/3rdYear/1stSemester/DS/GroupProject/Test/Test/frontend/src/components/MovieManagement/SingleMovie/SingleMovie.js"],"names":["React","useEffect","useState","useHistory","axios","blue","red","DeleteForeverIcon","EditIcon","MovieDetails","props","isAdmin","setIsAdmin","name","setName","id","setID","director","setDirector","genre","setGenre","cast","setCast","languages","setLanguages","description","setDescription","theaters","setTheater","availableDay","setAvailableDay","availableTimeTo","setAvailableTimeTo","availableTimeFrom","setAvailableTimeFrom","imgUrl","setImgUrl","history","user","setUser","config","headers","localStorage","getItem","JSON","parse","getMovieDetails","get","match","params","then","res","data","_id","catch","err","alert","deleteMovie","delete","push","error","message","updateMovie","Book","display","map","Day","backgroundColor"],"mappings":"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","sourcesContent":["import React,{useEffect, useState} from 'react'\nimport { useHistory } from 'react-router';\nimport '../DisplayMovies/DisplayMovies.css'\nimport './SingleMovie.css'\nimport axios from 'axios'\nimport {blue,red } from '@material-ui/core/colors';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport EditIcon from '@material-ui/icons/Edit';\n\n\n\nfunction MovieDetails(props) {\n    const [isAdmin,setIsAdmin]=useState(false)\n    const [name, setName] = useState(\"\");\n    const [id, setID] = useState();\n    const [director,setDirector]=useState(\"\");\n    const [genre,setGenre]=useState(\"\");\n    const [cast,setCast]=useState(\"\");\n    const [languages,setLanguages]=useState([]);\n    const [description,setDescription]=useState(\"\");\n    const [theaters,setTheater] = useState([]);\n    const [availableDay,setAvailableDay] = useState([]);\n    const [availableTimeTo, setAvailableTimeTo] = useState(\"\");\n    const [availableTimeFrom, setAvailableTimeFrom] = useState(\"\");\n    const[imgUrl,setImgUrl]=useState(\"\");\n    const history=useHistory()\n    const [user, setUser] = useState(\"\");\n\n    const config = {\n        headers: {\n            \"content-Type\": \"application/json\"\n        }\n    };\n\n    useEffect(() => {\n        if(localStorage.getItem(\"user\")){\n            setUser(JSON.parse(localStorage.getItem('user')))\n        }\n        \n        if(localStorage.getItem(\"adminAuthToken\")){\n            setIsAdmin(true)\n        }\n      async function getMovieDetails() {\n        axios.get(`http://localhost:8070/movie/movies/${props.match.params.id}`).then((res) => {\n            setName(res.data.name)\n            setDirector(res.data.director)\n            setGenre(res.data.genre)\n            setCast(res.data.cast)\n            setLanguages(res.data.languages)\n            setDescription(res.data.description)\n            setTheater(res.data.theaters)\n            setAvailableDay(res.data.availableDay)\n            setAvailableTimeTo(res.data.availableTimeTo)\n            setAvailableTimeFrom(res.data.availableTimeFrom)\n            setImgUrl(res.data.imgUrl)\n            setID(res.data._id)\n           \n        }).catch((err) => {\n          alert(\"Failed to Fetch Movie\")\n        })\n      }\n      getMovieDetails();\n\n    }, [props])\n\n \n    async function deleteMovie(id){        \n        await axios.delete(`http://localhost:8070/movie/movies/delete/${id}`,config).then(() => {\n            alert(\"Movie deleted successfully\")\n            history.push('/movie/movies')\n        }).catch((error) => {\n            alert(`Failed to delete the movie\\n${error.message}`)\n        }) \n    }    \n    \n    function updateMovie(id){\n        history.push(`/movie/movies/update/${id}`)\n    }\n    \n    function Book(){\n        history.push(`/appoinment/addApoinment`)\n    }\n    \n\n   \n    return (\n        <div className=\"main_div1\" align=\"center\">\n          \n          <img src={`${imgUrl}`} className=\"one_movie_img1\" alt=\"profile pic\" />\n          \n          <br/><br/><br/>\n        <div className=\"row \">\n        \n        </div>\n  \n        <div className=\"boxUpdate px-5 main_div2\">\n          <div className=\"row\">\n            <div className=\"\">\n              <div>\n                <img src={`${imgUrl}`} className=\"one_movie_img2\" alt=\"profile pic\" />\n                <div className=\"form-group\">\n                  <label htmlFor=\"profilepic\">\n                    <input\n                      style={{ display: 'none' }}\n                      id=\"profilepic\"\n                      name=\"profilepic\"\n                      type=\"file\"\n                    />\n                  </label>\n                </div>\n              </div>\n              <div className=\"row\">\n              <h4 className='single_movie_topic1' > {name}</h4>\n                <h5 className='single_movie_topic2'>{genre}</h5>\n\n<div className='positon_left'><p className=\"mb-0\">Director : {director}</p>\n<p className=\"mb-0\">Cast & Crew : {cast}</p>\n<p className=\"mb-0\">Theaters : {theaters}</p>\n                <p className=\"mb-0\">Languages :  {languages}</p><br/><br/></div>\n<div className='positon_right'></div>\n\n               \n                \n                \n                <p className=\"mb-0\">{description}</p>\n                \n                \n                <h6> Available Days and time</h6>\n                <p className=\"mb-0\"> {availableDay.map((Day) => (<span> {Day} </span>))}</p>\n                <p className=\"mb-0\"> {availableTimeTo} - {availableTimeFrom}</p>\n  \n              </div>\n              </div>\n            </div>\n                <table className=\"singleItemBtn\" >  \n                            <div> \n                                {isAdmin === true ?\n                                    <div>\n                                        <button className=\"mx-2 productBtn button2\" style={{backgroundColor:blue[400]}} onClick={()=>updateMovie(id)} >\n                                        Update <EditIcon/>\n                                        </button>\n                                        <button className=\"mx-2 productBtn button2\" style={{backgroundColor:red[500]}} onClick={()=>deleteMovie(id)} >\n                                        Delete <DeleteForeverIcon/>\n                                        </button>\n                                    </div>\n                                    : \n                                    <div>\n                                        <button className=\"mx-2 productBtn button2\" style={{backgroundColor:red[500]}} \n                                            onClick={()=>Book()}>\n                                            Make a Booking\n                                        </button> \n                                    </div>  \n                                }\n                            </div>\n                        </table>               \n            </div>\n            <br></br>\n\n            <div>\n                \n               \n            </div>\n        </div>          \n    )\n}\n\nexport default MovieDetails\n"]},"metadata":{},"sourceType":"module"}