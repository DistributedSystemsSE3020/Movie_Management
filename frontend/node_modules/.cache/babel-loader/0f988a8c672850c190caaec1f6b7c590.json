{"ast":null,"code":"var _jsxFileName = \"C:\\\\Movie_Management\\\\frontend\\\\src\\\\components\\\\MovieManagement\\\\SingleMovie\\\\SingleMovie.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport \"../DisplayMovies/DisplayMovies.css\";\nimport \"./SingleMovie.css\";\nimport axios from \"axios\";\nimport { blue, red } from \"@material-ui/core/colors\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport MovieIcon from '@mui/icons-material/Movie';\nimport PaymentIcon from '@mui/icons-material/Payment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MovieDetails(props) {\n  _s();\n\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [id, setID] = useState();\n  const [director, setDirector] = useState(\"\");\n  const [genre, setGenre] = useState(\"\");\n  const [cast, setCast] = useState(\"\");\n  const [languages, setLanguages] = useState([]);\n  const [description, setDescription] = useState(\"\");\n  const [theaters, setTheater] = useState([]);\n  const [availableDay, setAvailableDay] = useState([]);\n  const [availableTimeTo, setAvailableTimeTo] = useState(\"\");\n  const [availableTimeFrom, setAvailableTimeFrom] = useState(\"\");\n  const [imgUrl, setImgUrl] = useState(\"\");\n  const history = useHistory();\n  const [user, setUser] = useState(\"\");\n  const config = {\n    headers: {\n      \"content-Type\": \"application/json\"\n    }\n  };\n  useEffect(() => {\n    if (localStorage.getItem(\"user\")) {\n      setUser(JSON.parse(localStorage.getItem(\"user\")));\n    }\n\n    if (localStorage.getItem(\"adminAuthToken\")) {\n      setIsAdmin(true);\n    }\n\n    async function getMovieDetails() {\n      axios.get(`http://localhost:8070/movie/movies/${props.match.params.id}`).then(res => {\n        setName(res.data.name);\n        setDirector(res.data.director);\n        setGenre(res.data.genre);\n        setCast(res.data.cast);\n        setLanguages(res.data.languages);\n        setDescription(res.data.description);\n        setTheater(res.data.theaters);\n        setAvailableDay(res.data.availableDay);\n        setAvailableTimeTo(res.data.availableTimeTo);\n        setAvailableTimeFrom(res.data.availableTimeFrom);\n        setImgUrl(res.data.imgUrl);\n        setID(res.data._id);\n      }).catch(err => {\n        alert(\"Failed to Fetch Movie\");\n      });\n    }\n\n    getMovieDetails();\n  }, [props]);\n\n  async function deleteMovie(id) {\n    await axios.delete(`http://localhost:8070/movie/movies/delete/${id}`, config).then(() => {\n      alert(\"Movie deleted successfully\");\n      history.push(\"/movie/movies\");\n    }).catch(error => {\n      alert(`Failed to delete the movie\\n${error.message}`);\n    });\n  }\n\n  function updateMovie(id) {\n    history.push(`/movie/movies/update/${id}`);\n  }\n\n  function Book() {\n    history.push(`/appoinment/addApoinment`);\n  }\n\n  console.log(theaters);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main_div1\",\n    align: \"center\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: `${imgUrl}`,\n      className: \"one_movie_img1\",\n      alt: \"profile pic\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"boxUpdate px-5 main_div2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: `${imgUrl}`,\n              className: \"one_movie_img2\",\n              alt: \"profile pic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"profilepic\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  style: {\n                    display: \"none\"\n                  },\n                  id: \"profilepic\",\n                  name: \"profilepic\",\n                  type: \"file\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"positon_left\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"single_movie_topic1\",\n                children: [\" \", name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"single_movie_topic2\",\n                children: genre\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 63\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Directors : \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 36\n                }, this), \" \", director]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 16\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 80\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Theaters :\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 37\n                }, this), \" \", theaters]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 79\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Available Days and time\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 66\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0\",\n                children: [\" \", availableDay.map(Day => /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\" \", Day, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 19\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0\",\n                children: [\" \", availableTimeTo, \" - \", availableTimeFrom]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"singleItemBtn\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: isAdmin === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"mx-2 productBtn button2\",\n                      style: {\n                        backgroundColor: blue[400]\n                      },\n                      onClick: () => updateMovie(id),\n                      children: [\"Update \", /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 149,\n                        columnNumber: 26\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 144,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"mx-2 productBtn button2\",\n                      style: {\n                        backgroundColor: red[500]\n                      },\n                      onClick: () => deleteMovie(id),\n                      children: [\"Delete \", /*#__PURE__*/_jsxDEV(DeleteForeverIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 156,\n                        columnNumber: 26\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 151,\n                      columnNumber: 17\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 15\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"mx-2 productBtn button2\",\n                      style: {\n                        backgroundColor: red[500]\n                      },\n                      onClick: () => Book(),\n                      children: \"Make a Booking\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 161,\n                      columnNumber: 17\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 15\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"positon_right\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(MovieIcon, {\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 20\n                }, this), \"  Watch Trailer  \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(PaymentIcon, {\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 108\n                }, this), \"  Buy Ticket Online\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Languages : \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 37\n                }, this), languages]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 81\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Cast & Crew :\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 37\n                }, this), \" \", cast]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 78\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0\",\n                children: description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MovieDetails, \"fpXco5TTAlPRh19OE1g4walO0ck=\", false, function () {\n  return [useHistory];\n});\n\n_c = MovieDetails;\nexport default MovieDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"MovieDetails\");","map":{"version":3,"sources":["C:/Movie_Management/frontend/src/components/MovieManagement/SingleMovie/SingleMovie.js"],"names":["React","useEffect","useState","useHistory","axios","blue","red","DeleteForeverIcon","EditIcon","MovieIcon","PaymentIcon","MovieDetails","props","isAdmin","setIsAdmin","name","setName","id","setID","director","setDirector","genre","setGenre","cast","setCast","languages","setLanguages","description","setDescription","theaters","setTheater","availableDay","setAvailableDay","availableTimeTo","setAvailableTimeTo","availableTimeFrom","setAvailableTimeFrom","imgUrl","setImgUrl","history","user","setUser","config","headers","localStorage","getItem","JSON","parse","getMovieDetails","get","match","params","then","res","data","_id","catch","err","alert","deleteMovie","delete","push","error","message","updateMovie","Book","console","log","display","map","Day","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport \"../DisplayMovies/DisplayMovies.css\";\nimport \"./SingleMovie.css\";\nimport axios from \"axios\";\nimport { blue, red } from \"@material-ui/core/colors\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport MovieIcon from '@mui/icons-material/Movie';\nimport PaymentIcon from '@mui/icons-material/Payment';\n\nfunction MovieDetails(props) {\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [id, setID] = useState();\n  const [director, setDirector] = useState(\"\");\n  const [genre, setGenre] = useState(\"\");\n  const [cast, setCast] = useState(\"\");\n  const [languages, setLanguages] = useState([]);\n  const [description, setDescription] = useState(\"\");\n  const [theaters, setTheater] = useState([]);\n  const [availableDay, setAvailableDay] = useState([]);\n  const [availableTimeTo, setAvailableTimeTo] = useState(\"\");\n  const [availableTimeFrom, setAvailableTimeFrom] = useState(\"\");\n  const [imgUrl, setImgUrl] = useState(\"\");\n  const history = useHistory();\n  const [user, setUser] = useState(\"\");\n\n  const config = {\n    headers: {\n      \"content-Type\": \"application/json\",\n    },\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem(\"user\")) {\n      setUser(JSON.parse(localStorage.getItem(\"user\")));\n    }\n\n    if (localStorage.getItem(\"adminAuthToken\")) {\n      setIsAdmin(true);\n    }\n    async function getMovieDetails() {\n      axios\n        .get(`http://localhost:8070/movie/movies/${props.match.params.id}`)\n        .then((res) => {\n          setName(res.data.name);\n          setDirector(res.data.director);\n          setGenre(res.data.genre);\n          setCast(res.data.cast);\n          setLanguages(res.data.languages);\n          setDescription(res.data.description);\n          setTheater(res.data.theaters);\n          setAvailableDay(res.data.availableDay);\n          setAvailableTimeTo(res.data.availableTimeTo);\n          setAvailableTimeFrom(res.data.availableTimeFrom);\n          setImgUrl(res.data.imgUrl);\n          setID(res.data._id);\n        })\n        .catch((err) => {\n          alert(\"Failed to Fetch Movie\");\n        });\n    }\n    getMovieDetails();\n  }, [props]);\n\n  async function deleteMovie(id) {\n    await axios\n      .delete(`http://localhost:8070/movie/movies/delete/${id}`, config)\n      .then(() => {\n        alert(\"Movie deleted successfully\");\n        history.push(\"/movie/movies\");\n      })\n      .catch((error) => {\n        alert(`Failed to delete the movie\\n${error.message}`);\n      });\n  }\n\n  function updateMovie(id) {\n    history.push(`/movie/movies/update/${id}`);\n  }\n\n  function Book() {\n    history.push(`/appoinment/addApoinment`);\n  }\n\n  console.log(theaters);\n  \n  return (\n    <div className=\"main_div1\" align=\"center\">\n      <img src={`${imgUrl}`} className=\"one_movie_img1\" alt=\"profile pic\" />\n\n      <br />\n      <br />\n      <br />\n      <div className=\"row \"></div>\n\n      <div className=\"boxUpdate px-5 main_div2\">\n        <div className=\"row\">\n          <div className=\"\">\n            <div>\n              <img\n                src={`${imgUrl}`}\n                className=\"one_movie_img2\"\n                alt=\"profile pic\"\n              />\n              <div className=\"form-group\">\n                <label htmlFor=\"profilepic\">\n                  <input\n                    style={{ display: \"none\" }}\n                    id=\"profilepic\"\n                    name=\"profilepic\"\n                    type=\"file\"\n                  />\n                </label>\n              </div>\n            </div>\n            <div className=\"row\">\n              \n\n              <div className=\"positon_left\">\n              <h4 className=\"single_movie_topic1\"> {name}</h4>\n              <h5 className=\"single_movie_topic2\">{genre}</h5><br/>\n               <p className=\"mb-0\"><strong>Directors : </strong> {director}</p><br/>\n                \n                <p className=\"mb-0\"><strong>Theaters :</strong> {theaters}</p><br/>\n                <h6><strong>Available Days and time</strong></h6><br/>\n                \n              <p className=\"mb-0\">\n                {\" \"}\n                {availableDay.map((Day) => (\n                  <span> {Day} </span>\n                ))}\n              </p>\n              <p className=\"mb-0\">\n                {\" \"}\n                {availableTimeTo} - {availableTimeFrom}\n              </p>\n\n              <table className=\"singleItemBtn\">\n          <div>\n            {isAdmin === true ? (\n              <div>\n                <button\n                  className=\"mx-2 productBtn button2\"\n                  style={{ backgroundColor: blue[400] }}\n                  onClick={() => updateMovie(id)}\n                >\n                  Update <EditIcon />\n                </button>\n                <button\n                  className=\"mx-2 productBtn button2\"\n                  style={{ backgroundColor: red[500] }}\n                  onClick={() => deleteMovie(id)}\n                >\n                  Delete <DeleteForeverIcon />\n                </button>\n              </div>\n            ) : (\n              <div>\n                <button\n                  className=\"mx-2 productBtn button2\"\n                  style={{ backgroundColor: red[500] }}\n                  onClick={() => Book()}\n                >\n                  Make a Booking\n                </button>\n              </div>\n            )}\n          </div>\n        </table>\n\n\n              </div>\n\n\n\n\n              <div className=\"positon_right\">\n                {\" \"}\n                <p><MovieIcon fontSize=\"small\"/>  Watch Trailer  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<PaymentIcon fontSize=\"small\"/>  Buy Ticket Online</p>\n                <p></p><br/><br/>\n                <p className=\"mb-0\"><strong>Languages : </strong>{languages}</p><br/>\n                <p className=\"mb-0\"><strong>Cast & Crew :</strong> {cast}</p><br/>\n                <p className=\"mb-0\">{description}</p>\n                \n             \n                \n              </div>\n\n\n\n            </div>\n          </div>\n        </div>\n \n      </div>\n      <br></br>\n\n      <div></div>\n    </div>\n  );\n}\n\nexport default MovieDetails;\n"]},"metadata":{},"sourceType":"module"}