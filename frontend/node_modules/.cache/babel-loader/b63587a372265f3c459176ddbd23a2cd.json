{"ast":null,"code":"var _jsxFileName = \"D:\\\\University\\\\SLIIT\\\\Lectures\\\\3rdYear\\\\1stSemester\\\\DS\\\\GroupProject\\\\Test\\\\Test\\\\frontend\\\\src\\\\components\\\\MovieManagement\\\\SingleMovie\\\\SingleMovie.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport \"../DisplayMovies/DisplayMovies.css\";\nimport \"./SingleMovie.css\";\nimport axios from \"axios\";\nimport { blue, red } from \"@material-ui/core/colors\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MovieDetails(props) {\n  _s();\n\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [id, setID] = useState();\n  const [director, setDirector] = useState(\"\");\n  const [genre, setGenre] = useState(\"\");\n  const [cast, setCast] = useState(\"\");\n  const [languages, setLanguages] = useState([]);\n  const [description, setDescription] = useState(\"\");\n  const [theaters, setTheater] = useState([]);\n  const [availableDay, setAvailableDay] = useState([]);\n  const [availableTimeTo, setAvailableTimeTo] = useState(\"\");\n  const [availableTimeFrom, setAvailableTimeFrom] = useState(\"\");\n  const [imgUrl, setImgUrl] = useState(\"\");\n  const history = useHistory();\n  const [user, setUser] = useState(\"\");\n  const config = {\n    headers: {\n      \"content-Type\": \"application/json\"\n    }\n  };\n  useEffect(() => {\n    if (localStorage.getItem(\"user\")) {\n      setUser(JSON.parse(localStorage.getItem(\"user\")));\n    }\n\n    if (localStorage.getItem(\"adminAuthToken\")) {\n      setIsAdmin(true);\n    }\n\n    async function getMovieDetails() {\n      axios.get(`http://localhost:8070/movie/movies/${props.match.params.id}`).then(res => {\n        setName(res.data.name);\n        setDirector(res.data.director);\n        setGenre(res.data.genre);\n        setCast(res.data.cast);\n        setLanguages(res.data.languages);\n        setDescription(res.data.description);\n        setTheater(res.data.theaters);\n        setAvailableDay(res.data.availableDay);\n        setAvailableTimeTo(res.data.availableTimeTo);\n        setAvailableTimeFrom(res.data.availableTimeFrom);\n        setImgUrl(res.data.imgUrl);\n        setID(res.data._id);\n      }).catch(err => {\n        alert(\"Failed to Fetch Movie\");\n      });\n    }\n\n    getMovieDetails();\n  }, [props]);\n\n  async function deleteMovie(id) {\n    await axios.delete(`http://localhost:8070/movie/movies/delete/${id}`, config).then(() => {\n      alert(\"Movie deleted successfully\");\n      history.push(\"/movie/movies\");\n    }).catch(error => {\n      alert(`Failed to delete the movie\\n${error.message}`);\n    });\n  }\n\n  function updateMovie(id) {\n    history.push(`/movie/movies/update/${id}`);\n  }\n\n  function Book() {\n    history.push(`/appoinment/addApoinment`);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main_div1\",\n    align: \"center\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: `${imgUrl}`,\n      className: \"one_movie_img1\",\n      alt: \"profile pic\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"boxUpdate px-5 main_div2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: `${imgUrl}`,\n              className: \"one_movie_img2\",\n              alt: \"profile pic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"profilepic\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  style: {\n                    display: \"none\"\n                  },\n                  id: \"profilepic\",\n                  name: \"profilepic\",\n                  type: \"file\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"single_movie_topic1\",\n              children: [\" \", name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"single_movie_topic2\",\n              children: genre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"positon_left\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0\",\n                children: [\"Director : \", director]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 62\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0\",\n                children: [\"Theaters : \", theaters]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Available Days and time\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"positon_right\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0\",\n                children: [\"Languages : \", languages]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 64\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0\",\n                children: [\"Cast & Crew : \", cast]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 61\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0\",\n                children: description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"mx-2 productBtn button2\",\n                children: \"Buy Ticket\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"mx-2 productBtn button2\",\n                children: \"Watch Online\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"singleItemBtn\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: isAdmin === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"mx-2 productBtn button2\",\n              style: {\n                backgroundColor: blue[400]\n              },\n              onClick: () => updateMovie(id),\n              children: [\"Update \", /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 26\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"mx-2 productBtn button2\",\n              style: {\n                backgroundColor: red[500]\n              },\n              onClick: () => deleteMovie(id),\n              children: [\"Delete \", /*#__PURE__*/_jsxDEV(DeleteForeverIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 26\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"mx-2 productBtn button2\",\n              style: {\n                backgroundColor: red[500]\n              },\n              onClick: () => Book(),\n              children: \"Make a Booking\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MovieDetails, \"fpXco5TTAlPRh19OE1g4walO0ck=\", false, function () {\n  return [useHistory];\n});\n\n_c = MovieDetails;\nexport default MovieDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"MovieDetails\");","map":{"version":3,"sources":["D:/University/SLIIT/Lectures/3rdYear/1stSemester/DS/GroupProject/Test/Test/frontend/src/components/MovieManagement/SingleMovie/SingleMovie.js"],"names":["React","useEffect","useState","useHistory","axios","blue","red","DeleteForeverIcon","EditIcon","MovieDetails","props","isAdmin","setIsAdmin","name","setName","id","setID","director","setDirector","genre","setGenre","cast","setCast","languages","setLanguages","description","setDescription","theaters","setTheater","availableDay","setAvailableDay","availableTimeTo","setAvailableTimeTo","availableTimeFrom","setAvailableTimeFrom","imgUrl","setImgUrl","history","user","setUser","config","headers","localStorage","getItem","JSON","parse","getMovieDetails","get","match","params","then","res","data","_id","catch","err","alert","deleteMovie","delete","push","error","message","updateMovie","Book","display","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport \"../DisplayMovies/DisplayMovies.css\";\nimport \"./SingleMovie.css\";\nimport axios from \"axios\";\nimport { blue, red } from \"@material-ui/core/colors\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nfunction MovieDetails(props) {\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [id, setID] = useState();\n  const [director, setDirector] = useState(\"\");\n  const [genre, setGenre] = useState(\"\");\n  const [cast, setCast] = useState(\"\");\n  const [languages, setLanguages] = useState([]);\n  const [description, setDescription] = useState(\"\");\n  const [theaters, setTheater] = useState([]);\n  const [availableDay, setAvailableDay] = useState([]);\n  const [availableTimeTo, setAvailableTimeTo] = useState(\"\");\n  const [availableTimeFrom, setAvailableTimeFrom] = useState(\"\");\n  const [imgUrl, setImgUrl] = useState(\"\");\n  const history = useHistory();\n  const [user, setUser] = useState(\"\");\n\n  const config = {\n    headers: {\n      \"content-Type\": \"application/json\",\n    },\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem(\"user\")) {\n      setUser(JSON.parse(localStorage.getItem(\"user\")));\n    }\n\n    if (localStorage.getItem(\"adminAuthToken\")) {\n      setIsAdmin(true);\n    }\n    async function getMovieDetails() {\n      axios\n        .get(`http://localhost:8070/movie/movies/${props.match.params.id}`)\n        .then((res) => {\n          setName(res.data.name);\n          setDirector(res.data.director);\n          setGenre(res.data.genre);\n          setCast(res.data.cast);\n          setLanguages(res.data.languages);\n          setDescription(res.data.description);\n          setTheater(res.data.theaters);\n          setAvailableDay(res.data.availableDay);\n          setAvailableTimeTo(res.data.availableTimeTo);\n          setAvailableTimeFrom(res.data.availableTimeFrom);\n          setImgUrl(res.data.imgUrl);\n          setID(res.data._id);\n        })\n        .catch((err) => {\n          alert(\"Failed to Fetch Movie\");\n        });\n    }\n    getMovieDetails();\n  }, [props]);\n\n  async function deleteMovie(id) {\n    await axios\n      .delete(`http://localhost:8070/movie/movies/delete/${id}`, config)\n      .then(() => {\n        alert(\"Movie deleted successfully\");\n        history.push(\"/movie/movies\");\n      })\n      .catch((error) => {\n        alert(`Failed to delete the movie\\n${error.message}`);\n      });\n  }\n\n  function updateMovie(id) {\n    history.push(`/movie/movies/update/${id}`);\n  }\n\n  function Book() {\n    history.push(`/appoinment/addApoinment`);\n  }\n\n  return (\n    <div className=\"main_div1\" align=\"center\">\n      <img src={`${imgUrl}`} className=\"one_movie_img1\" alt=\"profile pic\" />\n\n      <br />\n      <br />\n      <br />\n      <div className=\"row \"></div>\n\n      <div className=\"boxUpdate px-5 main_div2\">\n        <div className=\"row\">\n          <div className=\"\">\n            <div>\n              <img\n                src={`${imgUrl}`}\n                className=\"one_movie_img2\"\n                alt=\"profile pic\"\n              />\n              <div className=\"form-group\">\n                <label htmlFor=\"profilepic\">\n                  <input\n                    style={{ display: \"none\" }}\n                    id=\"profilepic\"\n                    name=\"profilepic\"\n                    type=\"file\"\n                  />\n                </label>\n              </div>\n            </div>\n            <div className=\"row\">\n              <h4 className=\"single_movie_topic1\"> {name}</h4>\n              <h5 className=\"single_movie_topic2\">{genre}</h5>\n\n              <div className=\"positon_left\">\n                <p className=\"mb-0\">Director : {director}</p><br/>\n                \n                <p className=\"mb-0\">Theaters : {theaters}</p>\n                <h6><strong>Available Days and time</strong></h6>\n              </div>\n              <div className=\"positon_right\">\n                {\" \"}\n                <p className=\"mb-0\">Languages : {languages}</p><br/>\n                <p className=\"mb-0\">Cast & Crew : {cast}</p><br/>\n                <p className=\"mb-0\">{description}</p>\n                \n                <button\n                  className=\"mx-2 productBtn button2\"\n                 >\n                  Buy Ticket\n                </button>\n                <button\n                  className=\"mx-2 productBtn button2\"\n                 >\n                  Watch Online\n                </button>\n                \n              </div>\n\n            </div>\n          </div>\n        </div>\n        <table className=\"singleItemBtn\">\n          <div>\n            {isAdmin === true ? (\n              <div>\n                <button\n                  className=\"mx-2 productBtn button2\"\n                  style={{ backgroundColor: blue[400] }}\n                  onClick={() => updateMovie(id)}\n                >\n                  Update <EditIcon />\n                </button>\n                <button\n                  className=\"mx-2 productBtn button2\"\n                  style={{ backgroundColor: red[500] }}\n                  onClick={() => deleteMovie(id)}\n                >\n                  Delete <DeleteForeverIcon />\n                </button>\n              </div>\n            ) : (\n              <div>\n                <button\n                  className=\"mx-2 productBtn button2\"\n                  style={{ backgroundColor: red[500] }}\n                  onClick={() => Book()}\n                >\n                  Make a Booking\n                </button>\n              </div>\n            )}\n          </div>\n        </table>\n      </div>\n      <br></br>\n\n      <div></div>\n    </div>\n  );\n}\n\nexport default MovieDetails;\n"]},"metadata":{},"sourceType":"module"}