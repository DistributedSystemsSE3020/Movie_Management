{"ast":null,"code":"var _jsxFileName = \"D:\\\\University\\\\SLIIT\\\\Lectures\\\\3rdYear\\\\1stSemester\\\\DS\\\\GroupProject\\\\Test\\\\Test\\\\frontend\\\\src\\\\components\\\\Header\\\\Header.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useLocation, Link } from 'react-router-dom';\nimport { IconButton } from '@material-ui/core';\nimport DehazeIcon from '@material-ui/icons/Dehaze';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport HomeIcon from '@material-ui/icons/Home';\nimport PersonIcon from '@material-ui/icons/Person';\nimport EventAvailableIcon from '@material-ui/icons/EventAvailable';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport LocalHospitalIcon from '@material-ui/icons/LocalHospital';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\nimport FeedbackIcon from '@material-ui/icons/Feedback';\nimport Badge from '@material-ui/core/Badge';\nimport Avatar from '@material-ui/core/Avatar';\nimport onClickOutside from \"react-onclickoutside\";\nimport { blue, red } from '@material-ui/core/colors';\nimport { Button } from '@material-ui/core';\nimport axios from 'axios';\nimport './Header.css';\nimport './Sidebar.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Header() {\n  _s();\n\n  const [isSignedIn, setIsSignedIn] = useState(false);\n  const [cartCount, setCartCount] = useState();\n  const [user, setUser] = useState(\"\");\n  const [URL, setURL] = useState(\"/customer\");\n  const history = useHistory();\n  const location = useLocation();\n  const [sidebar, setSidebar] = useState(false);\n  const SidebarItem = [{\n    title: 'Home',\n    path: '/',\n    icon: /*#__PURE__*/_jsxDEV(HomeIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }, this),\n    cName: 'nav-text'\n  }, {\n    title: 'Profile',\n    path: `${URL}/profile`,\n    icon: /*#__PURE__*/_jsxDEV(PersonIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }, this),\n    cName: 'nav-text'\n  }, {\n    title: 'Pharmacy',\n    path: '/pharmacy/items',\n    icon: /*#__PURE__*/_jsxDEV(LocalHospitalIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 19\n    }, this),\n    cName: 'nav-text'\n  }, {\n    title: 'Appointments',\n    path: `/Appointment/${user._id}`,\n    icon: /*#__PURE__*/_jsxDEV(EventAvailableIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }, this),\n    cName: 'nav-text'\n  }, {\n    title: 'Prescriptions',\n    path: `/prescription/history/${user._id}`,\n    icon: /*#__PURE__*/_jsxDEV(AssignmentIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }, this),\n    cName: 'nav-text'\n  }, {\n    title: 'Cart',\n    path: `/cart/${user._id}/shopping`,\n    icon: /*#__PURE__*/_jsxDEV(ShoppingCartIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }, this),\n    cName: 'nav-text'\n  }, {\n    title: 'Payment',\n    path: `/patient/payment/${user._id}`,\n    icon: /*#__PURE__*/_jsxDEV(MonetizationOnIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 19\n    }, this),\n    cName: 'nav-text'\n  }, {\n    title: 'Feedback',\n    path: `/patient/review/${user._id}`,\n    icon: /*#__PURE__*/_jsxDEV(FeedbackIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }, this),\n    cName: 'nav-text'\n  }];\n  useEffect(() => {\n    //check whether user has signed in\n    if (localStorage.getItem(\"customerAuthToken\") || localStorage.getItem(\"doctorAuthToken\") || localStorage.getItem(\"adminAuthToken\")) {\n      setIsSignedIn(true); //get user data\n\n      if (localStorage.getItem(\"user\")) {\n        setUser(JSON.parse(localStorage.getItem('user')));\n      }\n\n      async function getCartCount() {\n        await axios.get(`http://localhost:8070/cart/${user._id}&shopping`).then(res => {\n          let result = res.data.result;\n          setCartCount(result.length);\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n\n      getCartCount();\n\n      if (localStorage.getItem(\"customerAuthToken\")) {\n        setURL(`/customer`);\n      }\n\n      if (localStorage.getItem(\"doctorAuthToken\")) {\n        setURL(`/doctor`);\n      }\n    } else {\n      setIsSignedIn(false);\n    }\n  }, [user._id, location]);\n\n  function profile() {\n    history.push(`${URL}/profile/`);\n  }\n\n  function cart() {\n    history.push(`/cart/${user._id}/shopping`);\n  }\n\n  function signin() {\n    history.push('/customer/signin');\n  }\n\n  function signup() {\n    history.push('/customer/signup');\n  } //logout\n\n\n  async function logout() {\n    localStorage.clear();\n    history.push('/');\n  }\n\n  const showSidebar = () => setSidebar(!sidebar);\n\n  Header.handleClickOutside = () => setSidebar(false);\n\n  function home() {\n    history.push('/');\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"black_line\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"navbar navbar-inverse navbar-expand-lg navbar-light fixed-top header-bg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"width_header container-fluid \",\n          children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n            children: sidebar ? /*#__PURE__*/_jsxDEV(IconButton, {\n              children: /*#__PURE__*/_jsxDEV(DehazeIcon, {\n                fontSize: \"large\",\n                style: {\n                  color: red[0]\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 52\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 40\n            }, this) : /*#__PURE__*/_jsxDEV(IconButton, {\n              classNanmeonClick: showSidebar,\n              children: /*#__PURE__*/_jsxDEV(DehazeIcon, {\n                fontSize: \"large\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-title\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              style: {\n                fontSize: 35\n              },\n              onClick: home,\n              children: \"\\xA0\\xA0\\xA0\\xA0\\xA0 Popcorn\\xA0 Scope\\xA0 Cinemas \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"mx-3\",\n            children: isSignedIn ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                onClick: cart,\n                children: /*#__PURE__*/_jsxDEV(Badge, {\n                  badgeContent: cartCount,\n                  color: \"error\",\n                  children: /*#__PURE__*/_jsxDEV(ShoppingCartIcon, {\n                    fontSize: \"large\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                onClick: profile,\n                children: /*#__PURE__*/_jsxDEV(Avatar, {\n                  alt: \"user\",\n                  src: `${user.imgUrl}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-primary mx-2  signing\",\n                onClick: signin,\n                children: \"Sign In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-primary signing\",\n                onClick: signup,\n                children: \"Sign Up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: sidebar ? 'nav-menu active' : 'nav-menu',\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"nav-menu-items\",\n          onClick: showSidebar,\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"mb-4 mt-3\",\n            align: \"center\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/images/Logo.png\",\n              width: \"150px\",\n              alt: \"logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 25\n          }, this), SidebarItem.map((item, index) => {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: item.cName,\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: item.path,\n                children: [item.icon, /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"nav-span\",\n                  children: item.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 33\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 29\n            }, this);\n          }), isSignedIn && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-bottom\",\n            align: \"center\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"secondary\",\n              disableElevation: true,\n              size: \"small\",\n              onClick: logout,\n              endIcon: /*#__PURE__*/_jsxDEV(ExitToAppIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 42\n              }, this),\n              children: \"Log Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Header, \"6+U2/BJsP85N29L8KR33soxjxio=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = Header;\nconst clickOutsideConfig = {\n  handleClickOutside: () => Header.handleClickOutside\n};\nexport default _c2 = onClickOutside(Header, clickOutsideConfig);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Header\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["D:/University/SLIIT/Lectures/3rdYear/1stSemester/DS/GroupProject/Test/Test/frontend/src/components/Header/Header.js"],"names":["React","useEffect","useState","useHistory","useLocation","Link","IconButton","DehazeIcon","ShoppingCartIcon","HomeIcon","PersonIcon","EventAvailableIcon","AssignmentIcon","LocalHospitalIcon","ExitToAppIcon","MonetizationOnIcon","FeedbackIcon","Badge","Avatar","onClickOutside","blue","red","Button","axios","Header","isSignedIn","setIsSignedIn","cartCount","setCartCount","user","setUser","URL","setURL","history","location","sidebar","setSidebar","SidebarItem","title","path","icon","cName","_id","localStorage","getItem","JSON","parse","getCartCount","get","then","res","result","data","length","catch","error","console","log","profile","push","cart","signin","signup","logout","clear","showSidebar","handleClickOutside","home","color","fontSize","imgUrl","map","item","index","clickOutsideConfig"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { useHistory, useLocation,Link } from 'react-router-dom';\nimport { IconButton } from '@material-ui/core';\nimport DehazeIcon from '@material-ui/icons/Dehaze';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport HomeIcon from '@material-ui/icons/Home';\nimport PersonIcon from '@material-ui/icons/Person';\nimport EventAvailableIcon from '@material-ui/icons/EventAvailable';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport LocalHospitalIcon from '@material-ui/icons/LocalHospital';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\nimport FeedbackIcon from '@material-ui/icons/Feedback';\nimport Badge from '@material-ui/core/Badge';\nimport Avatar from '@material-ui/core/Avatar';\nimport onClickOutside from \"react-onclickoutside\";\nimport { blue, red } from '@material-ui/core/colors';\nimport { Button } from '@material-ui/core';\nimport axios from 'axios';\nimport './Header.css';\nimport './Sidebar.css';\n\nfunction Header() {\n    const [isSignedIn, setIsSignedIn] = useState(false);\n    const [cartCount, setCartCount] = useState();\n    const [user, setUser] = useState(\"\");\n    const [URL, setURL] = useState(\"/customer\");\n    const history = useHistory();\n    const location = useLocation();\n    const [sidebar, setSidebar] = useState(false);\n\n    const SidebarItem = [\n        {\n          title: 'Home',\n          path: '/',\n          icon: <HomeIcon/>,\n          cName: 'nav-text'\n        },\n        {\n          title: 'Profile',\n           path: `${URL}/profile`,\n          icon: <PersonIcon/>,\n          cName: 'nav-text'\n        },\n        {\n            title: 'Pharmacy',\n            path: '/pharmacy/items',\n            icon: <LocalHospitalIcon/>,\n            cName: 'nav-text'\n        },\n        {\n          title: 'Appointments',\n          path: `/Appointment/${user._id}`,\n          icon: <EventAvailableIcon/>,\n          cName: 'nav-text'\n        },\n        {\n          title: 'Prescriptions',\n          path: `/prescription/history/${user._id}`,\n          icon: <AssignmentIcon/>,\n          cName: 'nav-text'\n        },\n        {\n          title: 'Cart',\n          path: `/cart/${user._id}/shopping`,\n          icon: <ShoppingCartIcon />,\n          cName: 'nav-text'\n        },\n        {\n            title: 'Payment',\n            path: `/patient/payment/${user._id}`,\n            icon: <MonetizationOnIcon />,\n            cName: 'nav-text'\n        },\n        {\n            title: 'Feedback',\n            path: `/patient/review/${user._id}`,\n            icon: <FeedbackIcon />,\n            cName: 'nav-text'\n        }\n    ];\n\n    useEffect(() => {\n        //check whether user has signed in\n        if(localStorage.getItem(\"customerAuthToken\") || localStorage.getItem(\"doctorAuthToken\") || localStorage.getItem(\"adminAuthToken\") ){\n            setIsSignedIn(true)\n\n            //get user data\n            if(localStorage.getItem(\"user\")){\n                setUser(JSON.parse(localStorage.getItem('user')))\n            }\n            \n            async function getCartCount() {\n                await axios.get(`http://localhost:8070/cart/${user._id}&shopping`).then((res) => {\n                    let result = res.data.result;\n                    setCartCount(result.length) \n                }).catch((error) => {\n                    console.log(error)\n                })\n            }\n            getCartCount();\n\n            if(localStorage.getItem(\"customerAuthToken\")){\n                setURL(`/customer`)\n            }\n\n            if(localStorage.getItem(\"doctorAuthToken\")){\n                setURL(`/doctor`)\n            }\n        }else{\n            setIsSignedIn(false)\n        }\n    }, [user._id,location])\n\n    function profile() {\n        history.push(`${URL}/profile/`)\n    }\n\n    function cart() {\n        history.push(`/cart/${user._id}/shopping`)\n    }\n\n    function signin() {\n        history.push('/customer/signin')\n    }\n\n    function signup() {\n        history.push('/customer/signup')\n    }\n    \n    //logout\n    async function logout(){\n        localStorage.clear();\n        history.push('/')\n    }\n\n    const showSidebar = () => setSidebar(!sidebar);\n\n    Header.handleClickOutside = () => setSidebar(false);\n\n    function home(){\n        history.push('/')\n    }\n    \n    return (\n        <header>\n            <div className=\"container-fluid\">\n                <div className='black_line'>\n\n                </div>\n                <nav className=\"navbar navbar-inverse navbar-expand-lg navbar-light fixed-top header-bg\">\n                    <div className=\"width_header container-fluid \">\n                        <ul>\n                            {sidebar ? <IconButton><DehazeIcon fontSize=\"large\" style={{ color: red[0] }}/></IconButton> :\n                            <IconButton classNanmeonClick={showSidebar}>\n                                <DehazeIcon fontSize=\"large\"/>\n                            </IconButton>\n                            }      \n                        </ul>\n                        <div className=\"header-title\">\n                            <h1 style={{ fontSize:35 }} onClick={home}>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Popcorn&nbsp; Scope&nbsp; Cinemas </h1>\n                        </div>\n                        <ul className=\"mx-3\">\n                            {isSignedIn ?\n                                <div>\n                                    <IconButton onClick={cart}>\n                                        <Badge badgeContent={cartCount} color=\"error\">\n                                            <ShoppingCartIcon fontSize=\"large\"/>\n                                        </Badge>\n                                    </IconButton>\n                                    <IconButton onClick={profile}>\n                                        <Avatar alt=\"user\" src={`${user.imgUrl}`} />\n                                    </IconButton> \n                                </div>\n                                :\n                                <div>\n                                    <button className=\"btn btn-outline-primary mx-2  signing\" onClick={signin}>\n                                        Sign In\n                                    </button>\n                                    <button className=\"btn btn-outline-primary signing\" onClick={signup}>\n                                        Sign Up\n                                    </button>\n                                </div>\n                            }\n                        </ul>\n                    </div>\n                </nav>\n                <nav className={sidebar ? 'nav-menu active' : 'nav-menu'}>\n                    <ul className='nav-menu-items' onClick={showSidebar}>\n                        <li className='mb-4 mt-3' align=\"center\">\n                            <img src=\"/images/Logo.png\" width=\"150px\" alt=\"logo\"/>\n                        </li>\n                        {SidebarItem.map((item, index) => {\n                        return (\n                            <li key={index} className={item.cName}>\n                                <Link to={item.path}>\n                                    {item.icon}\n                                    <span className=\"nav-span\">{item.title}</span>\n                                </Link>\n                            </li>\n                        );\n                        })}\n                        {isSignedIn &&\n                            <div className=\"sidebar-bottom\" align=\"center\">\n                                <Button variant=\"contained\" color=\"secondary\" disableElevation size=\"small\" onClick={logout}\n                                endIcon={<ExitToAppIcon/>}>\n                                    Log Out  \n                                </Button>\n                            </div>\n                        }\n                    </ul>\n                </nav>\n            </div>\n        </header>\n    )\n}\n\nconst clickOutsideConfig = {\n    handleClickOutside: () => Header.handleClickOutside\n};\n\nexport default onClickOutside(Header, clickOutsideConfig);"]},"metadata":{},"sourceType":"module"}